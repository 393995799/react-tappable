!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Tappable=e()}}(function(){return function e(t,o,i){function n(r,c){if(!o[r]){if(!t[r]){var h="function"==typeof require&&require;if(!c&&h)return h(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var p=o[r]={exports:{}};t[r][0].call(p.exports,function(e){var o=t[r][1][e];return n(o?o:e)},p,p.exports,e,t,o,i)}return o[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)n(i[r]);return n}({1:[function(e,t,o){(function(o){function i(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}function n(e){return{touches:Array.prototype.map.call(e,function(e){return{identifier:e.identifier,pageX:e.pageX,pageY:e.pageY}}),center:{x:(e[0].pageX+e[1].pageX)/2,y:(e[0].pageY+e[1].pageY)/2},angle:Math.atan()*(e[1].pageY-e[0].pageY)/(e[1].pageX-e[0].pageX)*180/Math.PI,distance:Math.sqrt(Math.pow(Math.abs(e[1].pageX-e[0].pageX),2)+Math.pow(Math.abs(e[1].pageY-e[0].pageY),2))}}var s="undefined"!=typeof window?window.React:"undefined"!=typeof o?o.React:null;s.initializeTouchEvents(!0);var r=e("react/lib/Object.assign"),c={propTypes:{moveThreshold:s.PropTypes.number,pressDelay:s.PropTypes.number,pressMoveThreshold:s.PropTypes.number,preventDefault:s.PropTypes.bool,stopPropagation:s.PropTypes.bool,onTap:s.PropTypes.func,onPress:s.PropTypes.func,onTouchStart:s.PropTypes.func,onTouchMove:s.PropTypes.func,onTouchEnd:s.PropTypes.func,onMouseDown:s.PropTypes.func,onMouseUp:s.PropTypes.func,onMouseMove:s.PropTypes.func,onMouseOut:s.PropTypes.func,onPinchStart:s.PropTypes.func,onPinchMove:s.PropTypes.func,onPinchEnd:s.PropTypes.func},getDefaultProps:function(){return{moveThreshold:100,pressDelay:1e3,pressMoveThreshold:5}},getInitialState:function(){return{isActive:!1,touchActive:!1,pinchActive:!1}},componentWillUnmount:function(){this.cleanupScrollDetection(),this.cancelPressDetection()},processEvent:function(e){this.props.preventDefault&&e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()},onTouchStart:function(e){this.props.onTouchStart&&this.props.onTouchStart(e)===!1||(this.processEvent(e),window._blockMouseEvents=!0,1===e.touches.length?(this._initialTouch=this._lastTouch=i(e.touches[0]),this.initScrollDetection(),this.initPressDetection(e,this.endTouch),this.setState({isActive:!0})):(this.props.onPinchStart||this.props.onPinchMove||this.props.onPinchEnd)&&2===e.touches.length&&this.onPinchStart(e))},onPinchStart:function(e){this._initialTouch&&this.endTouch();var t=e.touches;this._initialPinch=n(t),this._initialPinch=r(this._initialPinch,{displacement:{x:0,y:0},displacementVelocity:{x:0,y:0},rotation:0,rotationVelocity:0,zoom:1,zoomVelocity:0,time:Date.now()}),this._lastPinch=this._initialPinch,this.props.onPinchStart&&this.props.onPinchStart(this._initialPinch,e)},onPinchMove:function(e){this._initialTouch&&this.endTouch();var t=e.touches;if(2!==t.length)return this.onPinchEnd(e);var o=n(t[0].identifier===this._initialPinch.touches[0].identifier&&t[1].identifier===this._initialPinch.touches[1].identifier?t:t[1].identifier===this._initialPinch.touches[0].identifier&&t[0].identifier===this._initialPinch.touches[1].identifier?t.reverse():t);o.displacement={x:o.center.x-this._initialPinch.center.x,y:o.center.y-this._initialPinch.center.y},o.time=Date.now();var i=o.time-this._lastPinch.time;o.displacementVelocity={x:(o.displacement.x-this._lastPinch.displacement.x)/i,y:(o.displacement.y-this._lastPinch.displacement.y)/i},o.rotation=o.angle-this._initialPinch.angle,o.rotationVelocity=o.rotation-this._lastPinch.rotation/i,o.zoom=o.distance/this._initialPinch.distance,o.zoomVelocity=(o.zoom-this._lastPinch.zoom)/i,this.props.onPinchMove&&this.props.onPinchMove(o,e),this._lastPinch=o},onPinchEnd:function(e){var t=r({},this._lastPinch);t.time=Date.now(),t.time-this._lastPinch.time>16&&(t.displacementVelocity=0,t.rotationVelocity=0,t.zoomVelocity=0),this.props.onPinchEnd&&this.props.onPinchEnd(t,e),this._initialPinch=this._lastPinch=null},initScrollDetection:function(){this._scrollParents=[],this._scrollPos={top:0,left:0};for(var e=this.getDOMNode();e;)(e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth)&&(this._scrollParents.push(e),this._scrollPos.top+=e.scrollTop,this._scrollPos.left+=e.scrollLeft),e=e.parentNode},calculateMovement:function(e){return{x:Math.abs(e.clientX-this._initialTouch.clientX),y:Math.abs(e.clientY-this._initialTouch.clientY)}},detectScroll:function(){for(var e={top:0,left:0},t=0;t<this._scrollParents.length;t++)e.top+=this._scrollParents[t].scrollTop,e.left+=this._scrollParents[t].scrollLeft;return!(e.top===this._scrollPos.top&&e.left===this._scrollPos.left)},cleanupScrollDetection:function(){this._scrollParents=void 0,this._scrollPos=void 0},initPressDetection:function(e,t){this.props.onPress&&(this._pressTimeout=setTimeout(function(){this.props.onPress(e),t()}.bind(this),this.props.pressDelay))},cancelPressDetection:function(){clearTimeout(this._pressTimeout)},onTouchMove:function(e){if(this._initialTouch){if(this.processEvent(e),this.detectScroll())return this.endTouch(e);this.props.onTouchMove&&this.props.onTouchMove(e),this._lastTouch=i(e.touches[0]);var t=this.calculateMovement(this._lastTouch);(t.x>this.props.pressMoveThreshold||t.y>this.props.pressMoveThreshold)&&this.cancelPressDetection(),t.x>this.props.moveThreshold||t.y>this.props.moveThreshold?this.state.isActive&&this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0})}else this._initialPinch&&2===e.touches.length&&(this.onPinchMove(e),e.preventDefault())},onTouchEnd:function(e){if(this._initialTouch){this.processEvent(e);var t=this.calculateMovement(this._lastTouch);t.x<=this.props.moveThreshold&&t.y<=this.props.moveThreshold&&this.props.onTap&&(this.props.onTap(e),e.preventDefault()),this.endTouch(e)}else this._initialPinch&&e.touches.length+e.changedTouches.length===2&&(this.onPinchEnd(e),e.preventDefault())},endTouch:function(e){this.cancelPressDetection(),e&&this.props.onTouchEnd&&this.props.onTouchEnd(e),this._initialTouch=null,this._lastTouch=null,this.setState({isActive:!1})},onMouseDown:function(e){return window._blockMouseEvents?void(window._blockMouseEvents=!1):void(this.props.onMouseDown&&this.props.onMouseDown(e)===!1||(this.processEvent(e),this.initPressDetection(e,this.endMouseEvent),this._mouseDown=!0,this.setState({isActive:!0})))},onMouseMove:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseMove&&this.props.onMouseMove(e))},onMouseUp:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseUp&&this.props.onMouseUp(e),this.props.onTap&&this.props.onTap(e),this.endMouseEvent())},onMouseOut:function(e){!window._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseOut&&this.props.onMouseOut(e),this.endMouseEvent())},endMouseEvent:function(){this.cancelPressDetection(),this._mouseDown=!1,this.setState({isActive:!1})},touchStyles:function(){return{WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",cursor:"pointer"}},handlers:function(){return{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseOut:this.onMouseOut}}},h=s.createClass({displayName:"Tappable",mixins:[c],propTypes:{component:s.PropTypes.any,className:s.PropTypes.string,classBase:s.PropTypes.string,style:s.PropTypes.object,disabled:s.PropTypes.bool},getDefaultProps:function(){return{component:"span",classBase:"Tappable"}},render:function(){var e=this.props,t=e.classBase+(this.state.isActive?"-active":"-inactive");e.className&&(t+=" "+e.className);var o={};r(o,this.touchStyles(),e.style);var i=r({},e,{style:o,className:t,disabled:e.disabled,handlers:this.handlers},this.handlers());return delete i.onTap,delete i.onPress,delete i.onPinchStart,delete i.onPinchMove,delete i.onPinchEnd,delete i.moveThreshold,delete i.pressDelay,delete i.pressMoveThreshold,delete i.preventDefault,delete i.stopPropagation,delete i.component,s.createElement(e.component,i,e.children)}});h.Mixin=c,t.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"react/lib/Object.assign":2}],2:[function(e,t,o){"use strict";function i(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var o=Object(e),i=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var s=arguments[n];if(null!=s){var r=Object(s);for(var c in r)i.call(r,c)&&(o[c]=r[c])}}return o}t.exports=i},{}]},{},[1])(1)});