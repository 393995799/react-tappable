!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self),o.Tappable=e()}}(function(){return function e(o,t,s){function n(r,c){if(!t[r]){if(!o[r]){var p="function"==typeof require&&require;if(!c&&p)return p(r,!0);if(i)return i(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var u=t[r]={exports:{}};o[r][0].call(u.exports,function(e){var t=o[r][1][e];return n(t?t:e)},u,u.exports,e,o,t,s)}return t[r].exports}for(var i="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(e,o){(function(e){function t(e){return e?{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY}:{}}var s="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null;s.initializeTouchEvents(!0),o.exports=s.createClass({displayName:"Tappable",propTypes:{component:s.PropTypes.any,className:s.PropTypes.string,classBase:s.PropTypes.string,moveThreshold:s.PropTypes.number,pressDelay:s.PropTypes.number,pressMoveThreshold:s.PropTypes.number,preventDefault:s.PropTypes.bool,stopPropagation:s.PropTypes.bool,onTap:s.PropTypes.func,onPress:s.PropTypes.func,onTouchStart:s.PropTypes.func,onTouchMove:s.PropTypes.func,onTouchEnd:s.PropTypes.func,onMouseDown:s.PropTypes.func,onMouseUp:s.PropTypes.func,onMouseMove:s.PropTypes.func,onMouseOut:s.PropTypes.func},getDefaultProps:function(){return{component:"span",classBase:"Tappable",moveThreshold:100,pressDelay:1e3,pressMoveThreshold:5}},getInitialState:function(){return{isActive:!1,touchActive:!1}},componentWillUnmount:function(){this.cleanupScrollDetection(),this.cancelPressDetection()},processEvent:function(e){this.props.preventDefault&&e.preventDefault(),this.props.stopPropagation&&e.stopPropagation()},onTouchStart:function(e){clearTimeout(this._blockTimeout),this.props.onTouchStart&&this.props.onTouchStart(e)===!1||(this.processEvent(e),this._blockMouseEvents=!0,this._initialTouch=this._lastTouch=t(e.touches[0]),this.initScrollDetection(),this.initPressDetection(this.endTouch),this.setState({isActive:!0}))},initScrollDetection:function(){this._scrollParents=[],this._scrollPos={top:0,left:0};for(var e=this.getDOMNode();e;)(e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth)&&(this._scrollParents.push(e),this._scrollPos.top+=e.scrollTop,this._scrollPos.left+=e.scrollLeft),e=e.parentNode},calculateMovement:function(e){return{x:Math.abs(e.clientX-this._initialTouch.clientX),y:Math.abs(e.clientY-this._initialTouch.clientY)}},detectScroll:function(){for(var e={top:0,left:0},o=0;o<this._scrollParents.length;o++)e.top+=this._scrollParents[o].scrollTop,e.left+=this._scrollParents[o].scrollLeft;return!(e.top===this._scrollPos.top&&e.left===this._scrollPos.left)},cleanupScrollDetection:function(){this._scrollParents=void 0,this._scrollPos=void 0},initPressDetection:function(e){this.props.onPress&&(this._pressTimeout=setTimeout(function(){this.props.onPress(),e()}.bind(this),this.props.pressDelay))},cancelPressDetection:function(){clearTimeout(this._pressTimeout)},onTouchMove:function(e){if(this._initialTouch){if(this.processEvent(e),this.detectScroll())return this.endTouch(e);this.props.onTouchMove&&this.props.onTouchMove(e),this._lastTouch=t(e.touches[0]);var o=this.calculateMovement(this._lastTouch);(o.x>this.props.pressMoveThreshold||o.y>this.props.pressMoveThreshold)&&this.cancelPressDetection(),o.x>this.props.moveThreshold||o.y>this.props.moveThreshold?this.state.isActive&&this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0})}},onTouchEnd:function(e){if(this._initialTouch){this.processEvent(e);var o=this.calculateMovement(this._lastTouch);o.x<=this.props.moveThreshold&&o.y<=this.props.moveThreshold&&this.props.onTap&&this.props.onTap(e),this.endTouch(e)}},endTouch:function(){this.cancelPressDetection(),this.props.onTouchEnd&&this.props.onTouchEnd(event),this._initialTouch=null,this._lastTouch=null,this.setState({isActive:!1})},onMouseDown:function(e){return this._blockMouseEvents?void(this._blockMouseEvents=!1):void(this.props.onMouseDown&&this.props.onMouseDown(e)===!1||(this.processEvent(e),this.initPressDetection(this.endMouseEvent),this._mouseDown=!0,this.setState({isActive:!0})))},onMouseMove:function(e){!this._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseMove&&this.props.onMouseMove(e))},onMouseUp:function(e){!this._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseUp&&this.props.onMouseUp(e),this.props.onTap&&this.props.onTap(e),this.endMouseEvent())},onMouseOut:function(e){!this._blockMouseEvents&&this._mouseDown&&(this.processEvent(e),this.props.onMouseOut&&this.props.onMouseOut(e),this.endMouseEvent())},endMouseEvent:function(){this.cancelPressDetection(),this._mouseDown=!1,this.setState({isActive:!1})},render:function(){var e=this.props.classBase+(this.state.isActive?"-active":"-inactive");this.props.className&&(e+=" "+this.props.className);var o={WebkitTapHighlightColor:"rgba(0,0,0,0)",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",cursor:"pointer"};return s.createElement(this.props.component,{style:o,className:e,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseOut:this.onMouseOut},this.props.children)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});